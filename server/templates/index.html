<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SquashTerm</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <div class="app">
      <div class="layout">
        <aside class="sidebar">
          <div class="brand">
            <img class="app-logo" src="/static/images/logo.png" alt="SquashTerm logo" />
          </div>
          <nav class="nav-menu" role="tablist">
            <button class="nav-button is-active" data-tab="media" role="tab">
              <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
                <rect x="4" y="4" width="7" height="7" rx="2" />
                <rect x="13" y="4" width="7" height="7" rx="2" />
                <rect x="4" y="13" width="7" height="7" rx="2" />
                <rect x="13" y="13" width="7" height="7" rx="2" />
              </svg>
              <span class="label">Media</span>
            </button>
            <button class="nav-button" data-tab="playlist" role="tab">
              <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
                <rect x="4" y="6" width="16" height="2" rx="1" />
                <rect x="4" y="11" width="12" height="2" rx="1" />
                <rect x="4" y="16" width="9" height="2" rx="1" />
                <circle cx="18.5" cy="16.5" r="2.5" />
              </svg>
              <span class="label">Playlists</span>
            </button>
            <button class="nav-button" data-tab="manage" role="tab">
              <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M7 4h10l2 4v10a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V8l2-4z"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                />
                <path d="M9 12h6" stroke="currentColor" stroke-width="2" />
                <path d="M12 9v6" stroke="currentColor" stroke-width="2" />
              </svg>
              <span class="label">Manage</span>
            </button>
            <button class="nav-button" data-tab="settings" role="tab">
              <svg class="nav-icon" viewBox="0 0 24 24" aria-hidden="true">
                <circle cx="12" cy="12" r="3" />
                <path
                  d="M4.5 12a7.5 7.5 0 0 1 .1-1.2l-2-1.5 2.2-3.8 2.4.7a7.5 7.5 0 0 1 2-1.2L11 2h2l1.8 2.1a7.5 7.5 0 0 1 2 1.2l2.4-.7 2.2 3.8-2 1.5a7.5 7.5 0 0 1 0 2.4l2 1.5-2.2 3.8-2.4-.7a7.5 7.5 0 0 1-2 1.2L13 22h-2l-1.8-2.1a7.5 7.5 0 0 1-2-1.2l-2.4.7-2.2-3.8 2-1.5c-.1-.4-.1-.8-.1-1.2z"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.6"
                  stroke-linejoin="round"
                />
              </svg>
              <span class="label">Settings</span>
            </button>
          </nav>
        </aside>

        <main class="content">
          <header class="app-header">
            <div class="title-block">
              <div class="title-bar">
                <div>
                  <img class="app-logo-sub" src="/static/images/logo.png" alt="SquashTerm logo" />
                </div>
              </div>
            </div>
          </header>

          <section class="panel is-active" id="panel-media" role="tabpanel">
            <div class="panel-header">
              <div>
                <h3>メディアライブラリ</h3>
                <p>登録されている曲一覧です。</p>
              </div>
              <div class="panel-actions">
                <input
                  type="search"
                  id="media-search"
                  class="search-input"
                  placeholder="曲を検索"
                />
                <button
                  class="secondary view-toggle"
                  id="media-view-toggle"
                  type="button"
                  aria-pressed="false"
                >
                  リスト表示
                </button>
              </div>
            </div>
            <div class="media-grid" id="media-grid"></div>
          </section>

          <section class="panel" id="panel-playlist" role="tabpanel">
            <div class="panel-header">
              <div>
                <h3>プレイリスト</h3>
                <p>登録されているプレイリストです。</p>
              </div>
              <button class="primary" type="button" id="playlist-create-toggle">
                新規プレイリスト作成
              </button>
            </div>
            <div class="playlist-layout">
              <div class="playlist-sidebar">
                <form class="card playlist-create" id="playlist-create-form" aria-hidden="true">
                  <h4>新規プレイリスト</h4>
                  <label>
                    <span>プレイリスト名</span>
                    <input type="text" id="playlist-name" placeholder="プレイリスト名" />
                  </label>
                  <button class="primary" type="submit">作成する</button>
                </form>
                <label class="search-field">
                  <span>プレイリスト検索</span>
                  <input
                    type="search"
                    id="playlist-search"
                    class="search-input"
                    placeholder="プレイリスト名で検索"
                  />
                </label>
                <div class="playlist-list" id="playlist-list"></div>
                <div class="favorites" id="favorites"></div>
              </div>
              <div class="playlist-detail">
                <div class="playlist-detail-header">
                  <div>
                    <h4 id="playlist-detail-title">プレイリストを選択</h4>
                    <p id="playlist-detail-desc">
                      左側のリストから表示したいプレイリストを選択してください。
                    </p>
                  </div>
                  <label class="search-field">
                    <span>曲検索</span>
                    <input
                      type="search"
                      id="playlist-track-search"
                      class="search-input"
                      placeholder="曲名・アーティストで検索"
                    />
                  </label>
                </div>
                <div class="playlist-detail-body" id="playlist-detail-body"></div>
              </div>
            </div>
          </section>

          <section class="panel" id="panel-manage" role="tabpanel">
            <div class="panel-header">
              <div>
                <h3>楽曲管理</h3>
                <p>yt-dlp による取り込みと ID3 タグ編集をまとめて操作。</p>
              </div>
              <div class="chip">yt-dlp連携</div>
            </div>
            <div class="manage-grid">
              <form class="card" id="import-form">
                <h4>新規楽曲追加</h4>
                <label>
                  <span>動画 URL</span>
                  <input
                    type="url"
                    id="import-url"
                    placeholder="https://www.youtube.com/watch?v=..."
                    required
                  />
                </label>
                <label class="checkbox">
                  <input type="checkbox" id="import-auto-tag" checked />
                  <span>ダウンロード後に自動でID3タグを解析</span>
                </label>
                <label>
                  <span>自動追加先プレイリスト</span>
                  <select id="import-playlist-select">
                    <option value="">指定なし</option>
                  </select>
                </label>
                <label class="checkbox">
                  <input type="checkbox" id="import-playlist-mode" />
                  <span>プレイリスト一括ダウンロード（分割並列実行）</span>
                </label>
                <label id="batch-size-wrapper" class="batch-size-input" style="display: none;">
                  <span>並列ダウンロード数</span>
                  <input type="number" id="import-batch-size" min="1" max="10" value="5" />
                </label>
                <button type="button" class="primary" id="import-submit">ライブラリに追加</button>
                <div class="import-progress">
                  <div class="progress">
                    <div class="progress-bar" id="import-progress-bar"></div>
                  </div>
                  <p class="import-progress-text" id="import-progress-text">
                    進行状況: 0%
                  </p>
                </div>
                <div class="terminal">
                  <p class="terminal-title">yt-dlp 実行ログ</p>
                  <pre class="terminal-output" id="import-log">待機中...</pre>
                </div>
              </form>

              <form class="card">
                <h4>ID3タグの編集</h4>
                <label>
                  <span>対象楽曲</span>
                  <select id="tag-track-select"></select>
                </label>
                <label>
                  <span>タイトル</span>
                  <input type="text" id="tag-title" placeholder="楽曲タイトル" />
                </label>
                <label>
                  <span>アーティスト</span>
                  <input type="text" id="tag-artist" placeholder="アーティスト名" />
                </label>
                <label>
                  <span>アルバム</span>
                  <input type="text" id="tag-album" placeholder="アルバム名" />
                </label>
                <label>
                  <span>ソース URL</span>
                  <input type="url" id="tag-source-url" placeholder="https://..." />
                </label>
                <button type="button" class="secondary" id="tag-save">変更内容を保存</button>
              </form>
              <form class="card" id="upload-form">
                <h4>ローカルファイルを追加</h4>
                <label>
                  <span>音声ファイル</span>
                  <input type="file" id="upload-audio" accept="audio/*" required />
                </label>
                <label>
                  <span>カバー画像</span>
                  <input type="file" id="upload-cover" accept="image/*" />
                </label>
                <label class="checkbox">
                  <input type="checkbox" id="upload-auto-tag" checked />
                  <span>ID3タグを自動解析</span>
                </label>
                <div class="form-grid">
                  <label>
                    <span>タイトル</span>
                    <input type="text" id="upload-title" placeholder="楽曲タイトル" />
                  </label>
                  <label>
                    <span>アーティスト</span>
                    <input type="text" id="upload-artist" placeholder="アーティスト名" />
                  </label>
                  <label>
                    <span>アルバム</span>
                    <input type="text" id="upload-album" placeholder="アルバム名" />
                  </label>
                  <label>
                    <span>ジャンル</span>
                    <input type="text" id="upload-genre" placeholder="ジャンル" />
                  </label>
                  <label>
                    <span>リリース年</span>
                    <input type="number" id="upload-year" placeholder="2024" />
                  </label>
                  <label>
                    <span>ソース URL</span>
                    <input type="url" id="upload-source-url" placeholder="https://..." />
                  </label>
                </div>
                <label>
                  <span>追加先プレイリスト</span>
                  <select id="upload-playlist-select">
                    <option value="">指定なし</option>
                  </select>
                </label>
                <button type="submit" class="primary">アップロード</button>
                <div class="terminal">
                  <p class="terminal-title">アップロードログ</p>
                  <pre class="terminal-output" id="upload-log">待機中...</pre>
                </div>
              </form>
            </div>
          </section>

          <section class="panel" id="panel-settings" role="tabpanel">
            <div class="panel-header">
              <div>
                <h3>設定</h3>
                <p>設定項目を変更します。</p>
              </div>
              <button class="secondary">設定を保存</button>
            </div>
            <div class="settings-grid">
              <div class="card">
                <h4>バージョン情報</h4>
                <ul id="settings-version-list"></ul>
              </div>
              <div class="card">
                <h4>ストレージ</h4>
                <div class="progress">
                  <div class="progress-bar" id="settings-storage-bar"></div>
                </div>
                <p id="settings-storage-text"></p>
              </div>
              <div class="card">
                <h4>システム情報</h4>
                <ul id="system-info-list"></ul>
              </div>
              <div class="card">
                <h4>再生設定</h4>
                <div id="settings-playback-options"></div>
              </div>
            </div>
          </section>
        </main>
      </div>
    </div>

    <section class="player-overlay" id="player-overlay" aria-hidden="true">
      <div class="player-overlay-content">
        <button class="player-close" type="button" id="player-close" aria-label="閉じる">
          ×
        </button>
        <div class="player-visual">
          <img class="player-cover" id="player-cover" src="" alt="" />
        </div>
        <div class="player-bottom">
          <div class="player-info">
            <h2 id="player-title">--</h2>
            <p id="player-artist">--</p>
            <p class="player-meta" id="player-album">--</p>
          </div>
          <div class="player-progress">
            <span id="player-current">0:00</span>
            <input type="range" id="player-seek" min="0" max="100" value="0" />
            <span id="player-duration">0:00</span>
          </div>
          <div class="player-controls-row">
            <div class="player-controls">
              <button class="icon-button" type="button" id="player-prev" aria-label="前へ">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <rect x="4" y="5" width="3" height="14" rx="1.5" />
                  <polygon points="20,5 10,12 20,19" />
                </svg>
                <span class="sr-only">前へ</span>
              </button>
              <button
                class="icon-button"
                type="button"
                id="player-skip-back"
                aria-label="10秒戻し"
              >
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M11 5a7 7 0 1 0 7 7"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                  <polyline
                    points="8,6 11,3 14,6"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <text x="9" y="16" font-size="7" fill="currentColor">10</text>
                </svg>
                <span class="sr-only">10秒戻し</span>
              </button>
              <button
                class="icon-button is-primary toggle-button"
                type="button"
                id="player-toggle"
                aria-label="再生"
              >
                <svg class="icon-play" viewBox="0 0 24 24" aria-hidden="true">
                  <polygon points="8,5 19,12 8,19" />
                </svg>
                <svg class="icon-pause" viewBox="0 0 24 24" aria-hidden="true">
                  <rect x="7" y="5" width="4" height="14" rx="1.5" />
                  <rect x="13" y="5" width="4" height="14" rx="1.5" />
                </svg>
                <span class="sr-only">再生</span>
              </button>
              <button
                class="icon-button"
                type="button"
                id="player-skip-forward"
                aria-label="10秒スキップ"
              >
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M13 5a7 7 0 1 1-7 7"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                  <polyline
                    points="16,6 13,3 10,6"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <text x="8" y="16" font-size="7" fill="currentColor">10</text>
                </svg>
                <span class="sr-only">10秒スキップ</span>
              </button>
              <button class="icon-button" type="button" id="player-next" aria-label="次へ">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <polygon points="4,5 14,12 4,19" />
                  <rect x="17" y="5" width="3" height="14" rx="1.5" />
                </svg>
                <span class="sr-only">次へ</span>
              </button>
              <button class="icon-button" type="button" id="player-stop" aria-label="停止">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <rect x="7" y="7" width="10" height="10" rx="2" />
                </svg>
                <span class="sr-only">停止</span>
              </button>
              <button
                class="icon-button"
                type="button"
                id="player-loop"
                aria-label="ループ: オフ"
                aria-pressed="false"
              >
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M4 12a6 6 0 0 1 10-4"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                  <polyline
                    points="14,4 14,8 10,8"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M20 12a6 6 0 0 1-10 4"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                  />
                  <polyline
                    points="10,20 10,16 14,16"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
                <span class="loop-label" aria-hidden="true">OFF</span>
                <span class="sr-only">ループ</span>
              </button>
              <button
                class="icon-button is-favorite"
                type="button"
                id="player-favorite"
                aria-label="お気に入りに追加"
                aria-pressed="false"
              >
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <path
                    d="M12 20.3l-1.4-1.3c-4.5-4-7.1-6.4-7.1-9.6 0-2.1 1.6-3.7 3.7-3.7 1.4 0 2.7.7 3.4 1.8.8-1.1 2-1.8 3.4-1.8 2.1 0 3.7 1.6 3.7 3.7 0 3.2-2.6 5.6-7.1 9.6L12 20.3z"
                  />
                </svg>
                <span class="sr-only">お気に入りに追加</span>
              </button>
            </div>
            <div class="player-menu">
              <button
                class="icon-button player-menu-toggle"
                type="button"
                id="player-menu-toggle"
                aria-label="メニューを開く"
                aria-expanded="false"
                aria-haspopup="true"
              >
                <svg viewBox="0 0 24 24" aria-hidden="true">
                  <circle cx="5" cy="12" r="2" />
                  <circle cx="12" cy="12" r="2" />
                  <circle cx="19" cy="12" r="2" />
                </svg>
                <span class="sr-only">メニュー</span>
              </button>
              <div class="player-menu-panel" id="player-menu-panel" role="menu" aria-hidden="true">
                <button type="button" role="menuitem" id="player-download" class="player-menu-action">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M12 4v10" stroke="currentColor" stroke-width="2" />
                    <path d="M7 10l5 5 5-5" fill="none" stroke="currentColor" stroke-width="2" />
                    <rect x="4" y="18" width="16" height="2" rx="1" />
                  </svg>
                  <span>ダウンロード</span>
                </button>
                <button type="button" role="menuitem" id="player-add-playlist" class="player-menu-action">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <rect x="4" y="6" width="10" height="2" rx="1" />
                    <rect x="4" y="11" width="10" height="2" rx="1" />
                    <rect x="4" y="16" width="10" height="2" rx="1" />
                    <path d="M18 12v6" stroke="currentColor" stroke-width="2" />
                    <path d="M15 15h6" stroke="currentColor" stroke-width="2" />
                  </svg>
                  <span>プレイリストに追加</span>
                </button>
                <button type="button" role="menuitem" id="player-open-source" class="player-menu-action">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path
                      d="M10 7h-3a4 4 0 1 0 0 8h3"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                    <path
                      d="M14 7h3a4 4 0 1 1 0 8h-3"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                      stroke-linecap="round"
                    />
                    <path d="M9 12h6" stroke="currentColor" stroke-width="2" />
                  </svg>
                  <span>ソース URLを開く</span>
                </button>
                <button type="button" role="menuitem" id="player-edit-info" class="player-menu-action">
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path
                      d="M4 17.5V20h2.5l8.9-8.9-2.5-2.5L4 17.5z"
                    />
                    <path d="M14 6l2.5 2.5" fill="none" stroke="currentColor" stroke-width="2" />
                  </svg>
                  <span>情報を編集</span>
                </button>
                <button
                  type="button"
                  role="menuitem"
                  id="player-delete-track"
                  class="player-menu-action is-danger"
                >
                  <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M6 7h12" stroke="currentColor" stroke-width="2" />
                    <path
                      d="M9 7V5h6v2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                    <rect
                      x="7"
                      y="7"
                      width="10"
                      height="12"
                      rx="2"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="2"
                    />
                  </svg>
                  <span>曲を削除する</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div
      class="modal-overlay"
      id="playlist-modal"
      aria-hidden="true"
      role="dialog"
      aria-modal="true"
    >
      <div class="modal-card">
        <div class="modal-header">
          <h3>プレイリストに追加</h3>
          <button type="button" class="icon-button" id="playlist-modal-close" aria-label="閉じる">
            ×
          </button>
        </div>
        <div class="modal-body" id="playlist-modal-list"></div>
      </div>
    </div>

    <div
      class="modal-overlay"
      id="track-edit-modal"
      aria-hidden="true"
      role="dialog"
      aria-modal="true"
    >
      <div class="modal-card modal-card-wide">
        <div class="modal-header">
          <h3>メタデータを編集</h3>
          <button type="button" class="icon-button" id="track-edit-close" aria-label="閉じる">
            ×
          </button>
        </div>
        <div class="modal-body">
          <form class="modal-form" id="track-edit-form">
            <label>
              <span>タイトル</span>
              <input type="text" id="track-edit-title" />
            </label>
            <label>
              <span>アーティスト</span>
              <input type="text" id="track-edit-artist" />
            </label>
            <label>
              <span>アルバム</span>
              <input type="text" id="track-edit-album" />
            </label>
            <label>
              <span>ソース URL</span>
              <input type="url" id="track-edit-source-url" />
            </label>
            <div class="modal-actions">
              <button type="button" class="secondary" id="track-edit-cancel">
                キャンセル
              </button>
              <button type="submit" class="primary" id="track-edit-save">
                保存する
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="mini-player" id="mini-player" aria-hidden="true">
      <div class="mini-info">
        <img class="mini-cover" id="mini-cover" src="" alt="" />
        <div>
          <p class="mini-title" id="mini-title">--</p>
          <p class="mini-artist" id="mini-artist">--</p>
        </div>
      </div>
      <div class="mini-controls">
        <button class="icon-button" type="button" id="mini-prev" aria-label="前へ">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <rect x="4" y="5" width="3" height="14" rx="1.5" />
            <polygon points="20,5 10,12 20,19" />
          </svg>
          <span class="sr-only">前へ</span>
        </button>
        <button
          class="icon-button"
          type="button"
          id="mini-skip-back"
          aria-label="10秒戻し"
        >
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M11 5a7 7 0 1 0 7 7"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <polyline
              points="8,6 11,3 14,6"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <text x="9" y="16" font-size="7" fill="currentColor">10</text>
          </svg>
          <span class="sr-only">10秒戻し</span>
        </button>
        <button
          class="icon-button is-primary toggle-button"
          type="button"
          id="mini-toggle"
          aria-label="再生"
        >
          <svg class="icon-play" viewBox="0 0 24 24" aria-hidden="true">
            <polygon points="8,5 19,12 8,19" />
          </svg>
          <svg class="icon-pause" viewBox="0 0 24 24" aria-hidden="true">
            <rect x="7" y="5" width="4" height="14" rx="1.5" />
            <rect x="13" y="5" width="4" height="14" rx="1.5" />
          </svg>
          <span class="sr-only">再生</span>
        </button>
        <button
          class="icon-button"
          type="button"
          id="mini-skip-forward"
          aria-label="10秒スキップ"
        >
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M13 5a7 7 0 1 1-7 7"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <polyline
              points="16,6 13,3 10,6"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <text x="8" y="16" font-size="7" fill="currentColor">10</text>
          </svg>
          <span class="sr-only">10秒スキップ</span>
        </button>
        <button class="icon-button" type="button" id="mini-next" aria-label="次へ">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <polygon points="4,5 14,12 4,19" />
            <rect x="17" y="5" width="3" height="14" rx="1.5" />
          </svg>
          <span class="sr-only">次へ</span>
        </button>
        <button class="icon-button" type="button" id="mini-stop" aria-label="停止">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <rect x="7" y="7" width="10" height="10" rx="2" />
          </svg>
          <span class="sr-only">停止</span>
        </button>
        <button
          class="icon-button"
          type="button"
          id="mini-loop"
          aria-label="ループ: オフ"
          aria-pressed="false"
        >
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M4 12a6 6 0 0 1 10-4"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <polyline
              points="14,4 14,8 10,8"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M20 12a6 6 0 0 1-10 4"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
            />
            <polyline
              points="10,20 10,16 14,16"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
          <span class="loop-label" aria-hidden="true">OFF</span>
          <span class="sr-only">ループ</span>
        </button>
        <button
          class="icon-button is-favorite"
          type="button"
          id="mini-favorite"
          aria-label="お気に入りに追加"
          aria-pressed="false"
        >
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M12 20.3l-1.4-1.3c-4.5-4-7.1-6.4-7.1-9.6 0-2.1 1.6-3.7 3.7-3.7 1.4 0 2.7.7 3.4 1.8.8-1.1 2-1.8 3.4-1.8 2.1 0 3.7 1.6 3.7 3.7 0 3.2-2.6 5.6-7.1 9.6L12 20.3z"
            />
          </svg>
          <span class="sr-only">お気に入りに追加</span>
        </button>
        <button class="icon-button" type="button" id="mini-expand" aria-label="画面を開く">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M8 4H4v4M16 4h4v4M20 16v4h-4M4 16v4h4"
              fill="none"
              stroke="currentColor"
              stroke-linecap="round"
              stroke-width="2"
            />
          </svg>
          <span class="sr-only">画面を開く</span>
        </button>
      </div>
      <div class="mini-progress">
        <div class="mini-time">
          <span id="mini-current">0:00</span>
          <span id="mini-duration">0:00</span>
        </div>
        <input type="range" id="mini-seek" min="0" max="100" value="0" />
      </div>
    </div>

    <audio id="audio-player"></audio>

    <script src="/static/app.js"></script>
  </body>
</html>
